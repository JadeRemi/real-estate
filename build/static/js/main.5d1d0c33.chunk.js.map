{"version":3,"sources":["table.js","App.js","index.js"],"names":["availableApis","name","apikey","key","labelColoring","colorclass","labeltext","Table","useState","loading","setLoading","homeList","setHomeList","search","setSearch","filter","setFilter","contactApi","a","address","fetch","then","data","json","retrieveContents","useEffect","apply","length","userFilter","map","x","i","title","toLowerCase","includes","push","Fragment","className","id","htmlFor","type","placeholder","onChange","e","target","value","results","searcherror","labeltype","find","y","labelclass","labelid","cellContents","href","alt","src","price","renderLine","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8NAKMA,EAAgB,CACpB,CAACC,KAAM,QAASC,OAAQ,oDAAqDC,IAAK,MAE9EC,EAAgB,CACpB,CAACH,KAAM,oBAAqBI,WAAY,qBAAsBC,UAAW,sBACzE,CAACL,KAAM,mBAAoBI,WAAY,iBAAkBC,UAAW,mCAkHvDC,EA9GD,WACZ,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgCF,mBAAS,MAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA4BN,mBAAS,IAArC,mBAAOO,EAAP,KAAeC,EAAf,KAJkB,SA0BHC,IA1BG,2EA0BlB,4BAAAC,EAAA,6DACMC,EAAUnB,EAAc,GAAGE,OADjC,SAEQkB,MAAMD,GACXE,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GACJV,EAAYU,MALhB,4CA1BkB,+BAmCHE,IAnCG,2EAmClB,sBAAAN,EAAA,0DACMT,EADN,gCAEUQ,IACLI,MAAM,WACLX,GAAW,MAJjB,4CAnCkB,sBAuFlB,OAhFAe,oBAAS,sBAAC,sBAAAP,EAAA,sDACRM,EAAiBE,M,WADT,2CAEP,IAEHD,oBAAS,sBAAC,4BAAAP,EAAA,sDACJL,EAAOc,SACLC,EAAa,GACjBjB,EAASkB,KAAK,SAACC,EAAGC,GACZD,EAAEE,MAAMC,cAAcC,SAASrB,IACjCe,EAAWO,KAAKJ,GAElBf,EAAUY,OAPN,2CAUP,CAACf,IAmEF,cAAC,IAAMuB,SAAP,UACG3B,EAAU,qBAAK4B,UAAU,YAAf,8DACX,sBAAKA,UAAU,iBAAf,UAEE,uBAAMC,GAAG,SAASD,UAAU,SAA5B,UACE,uBAAOE,QAAQ,QAAQF,UAAU,eAAjC,oBACA,uBAAOG,KAAK,OAAOF,GAAG,QAAQrC,KAAK,QAAQoC,UAAU,gBAAgBI,YAAY,oBAAoBC,SAAU,SAAAC,GAAC,OAAI7B,EAAU6B,EAAEC,OAAOC,MAAMZ,qBAG/I,qBAAKI,UAAU,iBAAf,SApDN,WACE,IAAIS,EAAU,GACVC,EACJ,qBAAKV,UAAU,gBAAf,SACE,wHA2BF,OAxBA1B,EAASkB,KAAI,SAACC,EAAGC,GACf,GAAIlB,EAAOc,OAAS,GAAKZ,EAAOmB,SAASH,GAAI,CAC3C,IAAIiB,EAAY5C,EAAc6C,MAAK,SAAAC,GAAC,OAAIA,EAAEjD,MAAQ6B,EAAEU,QAChDlC,EAAY0C,EAAYA,EAAU1C,UAAYwB,EAAEU,KAChDW,EAAaH,EAAYA,EAAU3C,WAAa,iBAChD+C,EAAUtB,EAAEQ,GAAKR,EAAEQ,GAAK,EACxBe,EACJ,oBAAGhB,UAAU,uBAAuBC,GAAI,KAAKR,EAAEQ,GAAIgB,KAAM,YAAcF,EAAvE,UACE,sBAAKf,UAAU,aAAf,UACE,qBAAKkB,IAAKzB,EAAEE,MAAOwB,IAAK,0DAA0D1B,EAAEE,MAAOK,UAAU,cACrG,qBAAKA,UAAW,qBAAuBc,EAAvC,SAAoD7C,OAItD,mBAAG+B,UAAU,wBAAb,SAAsCP,EAAEE,QACxC,mBAAGK,UAAU,aAAb,SAA2BP,EAAEX,UAC7B,oBAAGkB,UAAU,aAAb,0CAAuD,yBAAQA,UAAU,WAAlB,iBAA+BP,EAAE2B,YACxF,mBAAGpB,UAAU,aAAb,2CAEFS,EAAQX,KAAKkB,GAEf,OAAOP,KAEa,GAAlBA,EAAQnB,SAAcmB,EAAUC,GAElC,cAAC,IAAMX,SAAP,UACGU,IAoBEY,KAGH,mBAAGrB,UAAU,UAAUiB,KAAK,IAA5B,SACE,wDCvGKK,MAXf,WACI,OACE,sBAAKtB,UAAU,MAAf,UACE,wBAAQA,UAAU,SAAlB,SACE,mBAAGA,UAAU,qBAAb,uCAEF,cAAC,EAAD,QCHRuB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.5d1d0c33.chunk.js","sourcesContent":["\r\nimport React, { useState, useEffect }  from \"react\";\r\n\r\n\r\n\r\nconst availableApis = [\r\n  {name: \"homes\", apikey: \"https://603e38c548171b0017b2ecf7.mockapi.io/homes\", key: \"1\"},\r\n]\r\nconst labelColoring = [\r\n  {name: 'IndependentLiving', colorclass: 'label__independent', labeltext: 'Independent Living'},\r\n  {name: 'SupportAvailable', colorclass: 'label__support', labeltext: 'Restaurant & Support Available'}\r\n]\r\n\r\n\r\nconst Table = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [homeList, setHomeList] = useState(null);\r\n  const [search, setSearch] = useState('');\r\n  const [filter, setFilter] = useState([]);\r\n\r\n\r\n  useEffect(async () => {\r\n    retrieveContents.apply(this);\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    if (search.length) {\r\n      let userFilter = [];\r\n      homeList.map( (x, i) => {\r\n        if (x.title.toLowerCase().includes(search)) {\r\n          userFilter.push(i);\r\n        }\r\n        setFilter(userFilter);\r\n      });\r\n    }\r\n  }, [search]);\r\n\r\n  //useEffect(async () => {\r\n  //}, [filter]);\r\n\r\n  async function contactApi(){\r\n    let address = availableApis[0].apikey\r\n    await fetch(address)\r\n    .then(data => data.json())\r\n    .then(data => {\r\n      setHomeList(data);\r\n    });\r\n  };\r\n\r\n  async function retrieveContents(){\r\n    if (loading) {\r\n      await contactApi()\r\n      .then (() => {\r\n        setLoading(false);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  function renderLine() {\r\n    let results = [];\r\n    let searcherror = \r\n    <div className=\"empty__search\">\r\n      <p>Нет результатов</p>\r\n    </div>\r\n    \r\n    homeList.map((x, i) => {\r\n      if (search.length < 3 || filter.includes(i)) {\r\n        let labeltype = labelColoring.find(y => y.name == x.type)\r\n        let labeltext = labeltype ? labeltype.labeltext : x.type;\r\n        let labelclass = labeltype ? labeltype.colorclass : \"label__support\";\r\n        let labelid = x.id ? x.id : 0;\r\n        let cellContents = \r\n        <a className=\"searchContents__item\" id={'id'+x.id} href={\"/details/\" + labelid}>\r\n          <div className=\"imgwrapper\">\r\n            <img alt={x.title} src={\"https://via.placeholder.com/300x150/9ebb69/343d37?text=\"+x.title} className=\"item__img\"/> \r\n            <div className={\"imgwrapper__label \" + labelclass}>{labeltext}</div>\r\n          </div>\r\n\r\n\r\n          <p className=\"item__text item__name\">{x.title}</p>\r\n          <p className=\"item__text\">{x.address}</p>\r\n          <p className=\"item__text\">New Properties for Sale from <strong className=\"boldtext\">£{x.price}</strong></p>\r\n          <p className=\"item__text\">Shared ownership available</p>\r\n        </a>;\r\n        results.push(cellContents);\r\n      }\r\n      return results;\r\n    });\r\n    if (results.length == 0) {results = searcherror;}\r\n    return (\r\n      <React.Fragment>\r\n        {results}\r\n      </React.Fragment>\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {loading ? <div className=\"preloader\">Загрузка</div> :\r\n      <div className=\"contentwrapper\">\r\n        \r\n        <form id=\"filter\" className=\"filter\">\r\n          <label htmlFor=\"fname\" className=\"filter__text\">Filter</label>\r\n          <input type=\"text\" id=\"fname\" name=\"fname\" className=\"filter__input\" placeholder=\"enter your filter\" onChange={e => setSearch(e.target.value.toLowerCase())}/>\r\n        </form>\r\n\r\n        <div className=\"searchContents\">\r\n          {renderLine()}\r\n        </div>\r\n\r\n        <a className=\"seemore\" href=\"#\">\r\n          <p>See more ›</p>\r\n        </a>\r\n      </div>\r\n      } \r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Table;","import Table from \"./table\";\r\n\r\nfunction App() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"header\">\r\n          <p className=\"intro header_intro\">Our Latest Developments</p>\r\n        </header>\r\n        <Table />\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}